:root{
  --bg: #06060a;
  --panel: #0d0f17;
  --text: #eef1ff;
  --muted: #a7b0d0;
  --border: #1b2030;
  --accent1: #7aa2ff;   /* azure */
  --accent2: #b97aff;   /* violet */
  --accent3: #6ff3d6;   /* mint */
}

*{ box-sizing: border-box; }
html, body{ height:100%; }
body{
  margin:0;
  font: 15px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color: var(--text);
  background:
    radial-gradient(1000px 600px at 20% -20%, #12203a 0%, transparent 60%),
    radial-gradient(1200px 700px at 80% -30%, #2a0f48 0%, transparent 65%),
    linear-gradient(180deg, #07080e 0%, #05060a 100%);
}

.top{
  position: sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px;
  background: color-mix(in oklab, var(--panel) 92%, black 8%);
  border-bottom:1px solid var(--border);
  backdrop-filter: blur(10px) saturate(1.2);
}

.brand{ display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px; }
.logo-badge{
  width:26px; height:26px; border-radius:8px; display:inline-grid; place-items:center;
  color:#0b1030;
  background: conic-gradient(from 210deg, var(--accent1), var(--accent2), var(--accent1));
  box-shadow: 0 0 22px rgba(122,162,255,.35), inset 0 0 12px rgba(255,255,255,.35);
  font-weight:900;
}
.brand-text{ text-shadow: 0 0 20px rgba(185,122,255,.25); }

.service{ color:var(--muted); font-size:13px; }

.chat{ max-width: 880px; margin:0 auto; padding:18px 16px 140px; }

.messages{ display:grid; gap:12px; margin-bottom:16px; }
.msg{
  border:1px solid var(--border); border-radius:16px;
  background: color-mix(in oklab, var(--panel) 96%, black 4%);
  padding:14px 16px;
  animation: pop .25s ease-out;
  box-shadow: 0 0 0 1px rgba(106,121,255,.05), 0 10px 30px rgba(0,0,0,.3);
}
.msg.user{
  border-color: color-mix(in oklab, var(--accent1) 30%, var(--border));
  background: linear-gradient(180deg, rgba(122,162,255,.10), rgba(122,162,255,.03));
}
.msg.assistant{
  border-color: color-mix(in oklab, var(--accent2) 25%, var(--border));
  background: linear-gradient(180deg, rgba(185,122,255,.10), rgba(185,122,255,.03));
}

.composer{
  position: fixed; left:50%; bottom:16px; transform: translateX(-50%);
  width: min(880px, calc(100% - 24px));
  display: grid; gap:10px;
}

.upload-bar{
  display:flex; align-items:center; gap:12px;
  padding:10px; border:1px dashed var(--border); border-radius:12px;
  background: color-mix(in oklab, var(--panel) 96%, black 4%);
}
.ghost{
  background: transparent; border:1px solid var(--border); color:var(--text);
  border-radius:10px; padding:8px 10px; cursor:pointer;
}
.ghost:hover{
  border-color: color-mix(in oklab, var(--accent3) 40%, var(--border));
  box-shadow: 0 0 12px rgba(111,243,214,.12);
}
.hint{ color:var(--muted); }

.preview{ display:flex; gap:8px; flex-wrap:wrap; }
.thumb{
  width:64px; height:64px; border-radius:10px; overflow:hidden; position:relative;
  border:1px solid var(--border);
  box-shadow: 0 8px 24px rgba(0,0,0,.3);
  animation: pop .2s ease-out;
}
.thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
.thumb .x{
  position:absolute; top:2px; right:2px; width:18px; height:18px; border-radius:6px;
  background: rgba(0,0,0,.5); color:#fff; border:none; cursor:pointer; font-size:12px;
}

.input-row{
  display:grid; grid-template-columns: 1fr auto; gap:8px;
  border:1px solid var(--border); border-radius:14px;
  background: color-mix(in oklab, var(--panel) 95%, black 5%);
  padding:8px;
  box-shadow: 0 0 32px rgba(122,162,255,.08), 0 0 40px rgba(185,122,255,.06);
}

textarea{
  resize:none; border:none; outline:none; background:transparent; color:var(--text);
  padding:10px 12px; font-size:15px; min-height:48px;
}

.send{
  position:relative; border:none; border-radius:10px;
  background: linear-gradient(135deg, var(--accent1), var(--accent2));
  color:white; font-weight:800; padding:10px 16px; cursor:pointer;
  overflow:hidden;
}
.send[disabled]{ opacity:.55; cursor:not-allowed; }
.send .send-pulse{
  position:absolute; inset:0; pointer-events:none; opacity:0;
  background: radial-gradient(120px 80px at 20% 50%, rgba(255,255,255,.35), transparent 50%),
              radial-gradient(120px 80px at 80% 50%, rgba(255,255,255,.35), transparent 50%);
  mix-blend-mode: screen;
}
.send:active .send-pulse{ animation: pulse .45s ease-out; }

.typing{
  display:inline-flex; gap:6px; align-items:center; opacity:.8;
}
.dot{ width:6px; height:6px; border-radius:50%; background: var(--muted); animation: bounce 1.1s infinite ease-in-out; }
.dot:nth-child(2){ animation-delay:.15s; }
.dot:nth-child(3){ animation-delay:.3s; }

.toast{
  position: fixed; left:50%; bottom: 88px; transform: translateX(-50%);
  background: color-mix(in oklab, var(--panel) 96%, black 4%);
  border:1px solid var(--border); border-radius:10px; padding:8px 12px;
  color:var(--text); opacity:0; pointer-events:none; transition: opacity .2s ease;
}
.toast.show{ opacity:1; }

@keyframes pop{ from{ transform: translateY(6px); opacity:0 } to{ transform: none; opacity:1 } }
@keyframes pulse{ from{ opacity:.75 } to{ opacity:0 } }
@keyframes bounce{
  0%, 80%, 100% { transform: translateY(0); opacity:.6 }
  40% { transform: translateY(-4px); opacity:1 }
}

@media (max-width: 640px){
  .brand-text{ display:none }
}
