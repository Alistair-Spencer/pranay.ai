:root{
  --bg: #0b0c10;
  --surface: #111218;
  --elev: #161824;
  --text: #e7eaf3;
  --muted: #a8b0c2;
  --brand: #6aa0ff;
  --accent: #8de7c7;
  --danger: #ff7a7a;
  --border: #232637;
  --ring: rgba(106,160,255,0.35);
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}
@media (prefers-color-scheme: light){
  :root{
    --bg:#f7f8fb; --surface:#ffffff; --elev:#ffffff;
    --text:#10131a; --muted:#525b6b; --border:#e6e9f2;
    --shadow: 0 8px 24px rgba(16,19,26,.08);
  }
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:linear-gradient(180deg, var(--bg) 0%, #0e1729 100%);
  color:var(--text); font: 15px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}
a{color:var(--brand); text-decoration:none}
a:hover{text-decoration:underline}
.wrap{
  display:grid; grid-template-columns: 1fr 1fr; gap:24px;
  width:min(1200px, 92vw); margin:24px auto 80px;
}
@media (max-width: 980px){ .wrap{ grid-template-columns:1fr; } }

.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:12px 16px; backdrop-filter:saturate(120%) blur(10px);
  background: color-mix(in srgb, var(--bg) 80%, transparent);
  border-bottom:1px solid var(--border);
}
.brand{display:flex; gap:12px; align-items:center}
.logo{
  height:40px; width:40px; display:grid; place-items:center;
  border-radius:12px; background:linear-gradient(135deg, var(--brand), var(--accent));
  color:#0b0c10; font-size:20px; box-shadow: var(--shadow);
}
.titles h1{margin:0; font-size:18px}
.titles .sub{color:var(--muted); font-size:12px}
.actions{display:flex; gap:8px; align-items:center}
.badge{
  background: color-mix(in srgb, var(--brand) 20%, var(--surface));
  border:1px solid var(--border); color:var(--text);
  padding:6px 10px; border-radius:10px; font-size:12px;
}
.pill{border-radius:999px}
button{
  appearance:none; border:1px solid var(--border); background:var(--surface); color:var(--text);
  padding:10px 14px; border-radius:10px; cursor:pointer;
  box-shadow: var(--shadow); transition: transform .05s ease, border-color .2s ease, background .2s ease;
}
button:hover{ transform: translateY(-1px); border-color: color-mix(in srgb, var(--brand) 40%, var(--border)); }
button:active{ transform: translateY(0); }
button.primary{
  background: linear-gradient(135deg, var(--brand), #5c7cff);
  color:white; border: none;
}
button.ghost{ background: transparent; border-color: var(--border); }
button:disabled{ opacity:.5; cursor:not-allowed; transform:none }

.card{
  background: linear-gradient(180deg, color-mix(in srgb, var(--surface) 70%, rgba(255,255,255,.02)) 0%, var(--surface) 100%);
  border:1px solid var(--border); border-radius:16px; padding:18px;
  box-shadow: var(--shadow);
}
.card-head{margin-bottom:12px}
.row{display:flex; align-items:center; gap:10px}
.row-space{display:flex; align-items:center; justify-content:space-between}
.gap{gap:8px}
.hint{color:var(--muted); font-size:12px}
.linklike{color:var(--brand); text-decoration:underline}
.col{display:flex; flex-direction:column; gap:24px}

.dropzone{
  position:relative; background:var(--elev); border:2px dashed var(--border);
  border-radius:16px; padding:20px; outline:none;
}
.dropzone:focus{ box-shadow: 0 0 0 4px var(--ring); }
.dropzone input[type=file]{ position:absolute; inset:0; opacity:0; cursor:pointer }
.dz-inner{ text-align:center; color: var(--muted); }
.dz-icon{ font-size:32px; margin-bottom:4px }
.dz-text strong{ color:var(--text) }
.dz-sub{ font-size:12px; margin-top:4px; }

.filelist{ margin-top:12px; border:1px dashed var(--border); padding:10px; border-radius:10px; max-height:190px; overflow:auto; background: color-mix(in srgb, var(--surface) 70%, transparent); }
.filelist.empty{ color:var(--muted); text-align:center }
.fileitem{ display:flex; align-items:center; gap:8px; padding:6px 8px; border-radius:8px; }
.fileitem:nth-child(odd){ background: color-mix(in srgb, var(--surface) 75%, transparent); }

.progress{ margin-top:10px; height:10px; background: #1c2033; border-radius:999px; overflow:hidden; border:1px solid var(--border); }
.progress .bar{ height:100%; width:0%; background: linear-gradient(90deg, var(--accent), var(--brand)); transition: width .2s ease; }
.hidden{ display:none !important; }

.doclist{ display:grid; gap:8px }
.doclist.empty{ color:var(--muted); }
.doc{ display:flex; align-items:center; justify-content:space-between; padding:10px; border:1px solid var(--border); border-radius:10px; background: var(--elev); }
.doc .name{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; max-width:70%; }
.doc .meta{ color:var(--muted); font-size:12px }

.chat{ display:flex; flex-direction:column; min-height:520px }
.chatlog{
  background: var(--elev); border:1px solid var(--border); border-radius:12px; padding:14px; flex:1; overflow:auto;
}
.msg{ display:flex; gap:8px; margin:10px 0 }
.msg .bubble{
  max-width: 85%; padding:10px 12px; border-radius:14px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 85%, rgba(255,255,255,.02));
  white-space: pre-wrap;
}
.msg.user .bubble{ background: linear-gradient(180deg, color-mix(in srgb, var(--brand) 12%, var(--surface)) 0%, var(--surface) 100%); }
.msg.bot  .bubble{ background: linear-gradient(180deg, color-mix(in srgb, var(--accent) 12%, var(--surface)) 0%, var(--surface) 100%); }
.msg .avatar{ width:28px; height:28px; border-radius:50%; display:grid; place-items:center; background:var(--brand); color:#fff; font-weight:700 }

.composer{ display:flex; gap:10px; margin-top:12px }
.composer textarea{
  flex:1; resize:vertical; min-height:44px; max-height:200px;
  padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:var(--surface); color:var(--text);
}
.toasts{ position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:8px; z-index:100 }
.toast{
  background: var(--surface); border:1px solid var(--border); color:var(--text);
  padding:10px 12px; border-radius:12px; box-shadow: var(--shadow);
}
.toast.ok{ border-color: color-mix(in srgb, var(--accent) 50%, var(--border)); }
.toast.err{ border-color: color-mix(in srgb, var(--danger) 60%, var(--border)); }
